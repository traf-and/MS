#!/bin/bash

#!! падает с ошибкой job %1 not created under job control. Причины не ясны..

# Запускаем три команды sleep в фоновом режиме
sleep 5 &
sleep 10 &
sleep 15 &

# Выводим список фоновых задач
echo "Запущенные фоновые задачи:"
jobs

# Ожидаем, чтобы пользователь увидел список задач
read -p "Нажмите Enter, чтобы продолжить..."

# Переводим первую задачу (sleep 5) в передний план
echo "Переводим первую задачу в передний план..."
fg %1

# После завершения первой задачи, снова выводим список задач
echo "После завершения первой задачи:"
jobs

# Переводим вторую задачу (sleep 10) в фоновый режим
echo "Переводим вторую задачу в фоновый режим..."
bg %2

# Ожидаем, чтобы пользователь увидел список задач
read -p "Нажмите Enter, чтобы продолжить..."

# Переводим третью задачу (sleep 15) в передний план
echo "Переводим третью задачу в передний план..."
fg %3

# Выводим финальный список задач
echo "После завершения всех задач:"
jobs
